<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Wifi config</title><style>@keyframes sk-rotate{to{transform:rotate(1turn)}}@keyframes sk-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes slide-down{0%{opacity:0;transform:scale(0)}to{opacity:1;transform:scale(1)}}.dialog-container{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.1);display:none}.dialog-container>div{left:0;right:0;width:fit-content;max-width:90%;height:fit-content;max-height:95%;margin:auto;border:0;display:block;position:fixed;top:50%;transform:translateY(-50%);background-color:#fefefe;padding:10px 16px;border-radius:10px;outline:0;box-shadow:0 11px 15px -7px rgba(0,0,0,.2),0 24px 38px 3px rgba(0,0,0,.14),0 9px 46px 8px rgba(0,0,0,.12);overflow-y:auto}#dialog-wifiscan>div{width:420px}.input-text{position:relative;display:inline-block;overflow:hidden;width:100%}.input-text>input{background-color:transparent;outline:0;color:#919191;font-weight:500;letter-spacing:.03rem;font-size:1rem;padding:0 0 4px;border:0;border-top:27px solid transparent;border-bottom:1px solid #dbdbdb;width:100%;caret-color:#6a2776;transition:border-bottom .5s;border-radius:0}.input-text>input::placeholder{opacity:.3}.input-text>input+label:after{content:"";position:absolute;left:0;bottom:0;display:block;width:100%;height:2px;background-color:#6a2776;transform-origin:bottom center;transform:scaleX(0);transition:transform .2s}.input-text>input:hover{color:#6a2776}.input-text>label{color:#919191;font-size:.7rem;font-weight:400;letter-spacing:.01rem;position:absolute;top:0;left:0;right:0;bottom:0;padding:7px 0 0;line-height:18px;pointer-events:none;transition:color .2s}.input-text>input:focus{border-bottom:1px solid #6a2776;color:#6a2776}.input-text>input:focus::placeholder{opacity:0}.input-text>input:focus+label{color:#6a2776}.input-text>input:focus+label:after{transform:scale(1)}.icon-button{border:0;height:28px;width:28px;border-radius:50%;margin-left:6px;margin-bottom:4px;padding:0;background:0 0;transition:transform .15s;outline:0;cursor:pointer}.icon-button>svg{height:24px;width:24px;fill:#919191}.icon-button:hover{transform:scale(1.05)}.icon-button:hover>svg{fill:#6a2776}.icon-button:active{transform:scale(1);opacity:.7}.icon-button:focus>svg{fill:#6a2776}.main-button{background-color:#352f53;color:#fff;height:36px;border-radius:17px;width:100%;border:0;text-transform:uppercase;padding:5px;font-weight:500;letter-spacing:.04rem;font-size:.85rem;outline:0;cursor:pointer;transition:all .3s}.main-button:hover{background-color:#6a2776}.main-button:active{transform:scale(.95)}.pure-material-radio{position:relative;display:inline-block;font-size:.9rem}.pure-material-radio>input{appearance:none;position:absolute;margin:0;border-radius:50%;outline:0;pointer-events:none;left:-10px;top:-8px;display:block;width:40px;height:40px;opacity:0;transform:scale(1);transition:opacity .2s}.pure-material-radio>span{display:inline-block;width:100%;color:#919191;line-height:1.6;font-weight:400;letter-spacing:.01rem;cursor:pointer}.pure-material-radio>span:before{content:"";display:inline-block;box-sizing:border-box;margin:2px 10px 2px 0;border:2px solid #6a2776;border-radius:50%;width:20px;height:20px;vertical-align:top;transition:border-color .2s}.pure-material-radio>span:after{content:"";display:block;position:absolute;top:2px;left:0;border-radius:50%;width:10px;height:10px;background-color:#6a2776;transform:translate(5px,5px) scale(0);transition:transform .2s}.pure-material-radio>input:checked{background-color:#6a2776}.pure-material-radio>input:checked+span:before,.pure-material-radio>input:hover+span:before{border-color:#6a2776}.pure-material-radio>input:checked+span:after{transform:translate(5px,5px) scale(1)}.pure-material-radio>input:active{opacity:1;transform:scale(0);transition:transform 0s,opacity 0s}.pure-material-radio>input:active+span:before{border-color:#352f53}.text-button{background:0 0;border:0;color:#1e7789;font-weight:500;letter-spacing:.01rem;font-size:.8rem;padding:4px 16px;vertical-align:middle;text-align:center;text-overflow:ellipsis;overflow:hidden;cursor:pointer;display:inline-block;box-sizing:border-box;height:36px;border-radius:18px;outline:0}.text-button:focus,.text-button:hover{background-color:#dbdbdb;transition:background-color .25s}.text-button:active{transform:scale(.95);transition:transform .25s}.dialog-close-button,.ssid-button{background:0 0;border:0;font-weight:500;cursor:pointer;font-size:1rem;outline:0}.dialog-close-button{height:28px;transition:all .15s;width:28px;border-radius:50%;padding:0;color:#919191}.dialog-close-button:hover{color:#352f53;background-color:rgba(0,0,0,.1)}.ssid-button{color:#352f53;padding:4px 16px;min-height:40px;border-radius:12px;vertical-align:middle;min-width:250px;display:inline-flex;align-items:center;text-align:left;width:100%;margin:3px 0}.ssid-button:focus,.ssid-button:hover{background-color:#dbdbdb;transition:background-color .25s}.ssid-button:active{transform:scale(.97);transition:transform .25s}.ssid-button span{padding-right:16px}.ssid-button span>svg{height:22px;width:22px;fill:#1e7789}.spinner{margin:25px auto;width:40px;height:40px;position:relative;animation:sk-rotate 2.2s linear infinite}.spinner-text{text-align:center;opacity:.8;color:#352f53;font-size:.9rem}.dot1,.dot2{width:60%;height:60%;display:inline-block;position:absolute;top:0;background-color:#9c73ab;border-radius:100%;animation:sk-bounce 2.2s ease-in-out infinite}.dot2{top:auto;bottom:0;animation-delay:-1.1s}*{font-family:Roboto,-apple-system,BlinkMacSystemFont,system-ui,Open Sans,Segoe UI,Helvetica,Arial,sans-serif}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}body{background-color:#b5d3dd;display:flex;justify-content:center;align-items:center;min-height:90vh}#main-container{background-color:#fefefe;padding:20px;border-radius:15px;max-width:400px;width:90%}.form-line-container{display:flex;flex-wrap:nowrap;justify-content:space-between;align-items:flex-end}.form-line-container>div:first-child{flex:1}h3{color:#919191;font-size:.8rem;font-weight:500;letter-spacing:.01rem;margin-bottom:10px}.footer-buttons-container{margin-top:15px;display:flex;justify-content:space-between}.main-button-container{margin-top:16px}#section-ipsettings{animation:slide-down .3s ease-out}.dialog-close-button-container{text-align:right;margin-right:-10px}h4{color:#6a2776;margin:0 0 16px;font-size:1.3rem}.device-info{font-size:.8rem;line-height:1.9;width:100%;background-color:rgba(219,219,219,.4);padding:8px 12px;border-radius:10px}.device-info tr>td:first-child{font-weight:600;padding-right:22px}.device-info tr>td:last-child{text-align:right;color:#919191}#no-networks-found p,.info-text{text-align:center;font-weight:500}.info-text{font-size:.7rem;line-height:1.7;color:#919191}#no-networks-found{display:none}#no-networks-found p{margin:30px 0}#no-networks-found ul{opacity:.65;font-size:.75rem;line-height:1.7}</style></head><body><div id="main-container"><form action="/save" method="post"><div class="form-line-container"><div><div class="input-text"><input type="text" name="ssid" id="text-ssid" maxlength="32" autocomplete="off" spellcheck="false" required> <label for="text-ssid">SSID</label></div></div><div><button class="icon-button" type="button" title="Scan Networks" id="button-scanwifi"><svg xmlns="http://www.w3.org/2000/svg" height="24" viewBox="0 0 24 24" width="24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M15.9 5c-.17 0-.32.09-.41.23l-.07.15-5.18 11.65c-.16.29-.26.61-.26.96 0 1.11.9 2.01 2.01 2.01.96 0 1.77-.68 1.96-1.59l.01-.03L16.4 5.5c0-.28-.22-.5-.5-.5zM1 9l2 2c2.88-2.88 6.79-4.08 10.53-3.62l1.19-2.68C9.89 3.84 4.74 5.27 1 9zm20 2l2-2c-1.64-1.64-3.55-2.82-5.59-3.57l-.53 2.82c1.5.62 2.9 1.53 4.12 2.75zm-4 4l2-2c-.8-.8-1.7-1.42-2.66-1.89l-.55 2.92c.42.27.83.59 1.21.97zM5 13l2 2c1.13-1.13 2.56-1.79 4.03-2l1.28-2.88c-2.63-.08-5.3.87-7.31 2.88z"/></svg></button></div></div><div class="form-line-container"><div><div class="input-text"><input type="password" name="password" id="text-password" maxlength="63" minlength="8" autocomplete="off" spellcheck="false"> <label for="text-password">Password</label></div></div><div><button class="icon-button" type="button" title="Show" id="btn-showHidePassword" aria-pressed="false"><svg id="svg1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"/></svg> <svg id="svg2" style="display: none;" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="black" width="18px" height="18px"><path d="M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z" fill="none"/><path d="M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"/></svg></button></div></div><div style="margin-bottom: 12px;"><h3>IP Settings</h3><label class="pure-material-radio"><input type="radio" name="ipSettings" id="radio-dhcp" value="dhcp" checked="checked"> <span>DHCP</span></label> &nbsp;&nbsp;&nbsp;&nbsp; <label class="pure-material-radio"><input type="radio" name="ipSettings" id="radio-static" value="static"> <span>Static</span></label></div><section id="section-ipsettings" style="display: none"><div><div class="input-text"><input type="text" name="ip" id="text-ip" placeholder="0.0.0.0" minlength="7" maxlength="15" autocomplete="off" autocorrect="off" pattern="((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$"> <label for="text-ip">IP address</label></div></div><div><div class="input-text"><input type="text" name="subnet" id="text-subnet" placeholder="255.255.255.0" minlength="7" maxlength="15" autocomplete="off" autocorrect="off" pattern="^(((255\.){3}(255|254|252|248|240|224|192|128|0+))|((255\.){2}(255|254|252|248|240|224|192|128|0+)\.0)|((255\.)(255|254|252|248|240|224|192|128|0+)(\.0+){2})|((255|254|252|248|240|224|192|128|0+)(\.0+){3}))$"> <label for="text-subnet">Subnet Mask</label></div></div><div><div class="input-text"><input type="text" name="gateway" id="text-gateway" placeholder="0.0.0.0" minlength="7" maxlength="15" autocomplete="off" autocorrect="off" pattern="((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$"> <label for="text-gateway">Gateway</label></div></div><div><div class="input-text"><input type="text" name="dns1" id="text-dns1" placeholder="0.0.0.0" minlength="7" maxlength="15" autocomplete="off" autocorrect="off" pattern="((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$"> <label for="text-dns1">DNS</label></div></div><div><div class="input-text"><input type="text" name="dns2" id="text-dns2" placeholder="0.0.0.0" minlength="7" maxlength="15" autocomplete="off" autocorrect="off" pattern="((^|\.)((25[0-5])|(2[0-4]\d)|(1\d\d)|([1-9]?\d))){4}$"> <label for="text-dns2">DNS alternative</label></div></div></section><div class="main-button-container"><button type="submit" class="main-button">save</button></div></form><div class="footer-buttons-container"><button id="btn-about" class="text-button" data-dialog_open="dialog-info">Device info</button> <button id="btn-firmware" class="text-button" data-dialog_open="dialog-firmware">Firmware update</button></div></div><div tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="device-info-title" id="dialog-info" class="dialog-container"><div><div class="dialog-close-button-container"><button class="dialog-close-button" data-dialog_close="dialog-info">&times;</button></div><h4 id="device-info-title">Device Info</h4><table class="device-info"><tbody><tr><td>Firmware version</td><td data-info="firmwareversion"></td></tr><tr><td>MAC Address</td><td data-info="mac"></td></tr><tr><td>Chip ID</td><td data-info="chipid"></td></tr><tr><td>Flash Chip ID</td><td data-info="flashchipid"></td></tr><tr><td>Flash Size</td><td data-info="flashchiprealsize"></td></tr></tbody></table><p class="info-text">Developed by Samuel Carreira<br>github.com/samuelcarreira/webconfig</p><p class="info-text"><small>1.0.0</small></p></div></div><div tabindex="-1" role="dialog" aria-hidden="true" aria-labelledby="firmware-title" id="dialog-firmware" class="dialog-container"><div><div class="dialog-close-button-container"><button class="dialog-close-button" data-dialog_close="dialog-firmware">&times;</button></div><h4 id="firmware-title">Firmware update (TODO)</h4><form action="/upload" method="post" enctype="multipart/form-data"><input type="file" name="update" accept=".bin" required><p><small>Do not disconnect or turn off your device while updating...</small></p><button type="submit" class="main-button">Update</button></form></div></div><div tabindex="-1" role="dialog" aria-hidden="true" id="dialog-wifiscan" aria-labelledby="wifiscan-title" class="dialog-container"><div><div class="dialog-close-button-container"><button class="dialog-close-button" data-dialog_close="dialog-wifiscan">&times;</button></div><h4 id="wifiscan-title">Available Networks</h4><div id="loading-wifiscan"><div class="spinner"><div class="dot1"></div><div class="dot2"></div></div><p class="spinner-text">Scanning networks...</p></div><div id="no-networks-found"><p>No networks found :-(</p><ul><li>Make sure that your device is within range of your wireless router and has a good connection.</li><li>Check that your device is away from any devices that cause interference (such as microwaves, baby monitors, or other electronic devices).</li><li>If you have several devices connected to your Wi-Fi network, try removing some of them to reduce congestion.</li><li>If your router doesn't broadcast the SSID (hidden network), enter it manually.</li><li>Connect your device to the 2.4 GHz band of your router.</li><li>Restart your device and your Internet router and/or modem.</li></ul></div><div id="ssid-list"></div></div></div><script>function showHidePassword(e){const t=document.getElementById("text-password");"password"===t.type?(t.type="text",e.setAttribute("aria-pressed",!0),e.title="Hide",document.getElementById("svg1").style.display="none",document.getElementById("svg2").style.display="inline"):(t.type="password",e.setAttribute("aria-pressed",!1),e.title="Show",document.getElementById("svg2").style.display="none",document.getElementById("svg1").style.display="inline")}function initDialogs(){document.querySelectorAll("[data-dialog_open]").forEach(e=>{e.addEventListener("click",function(){openDialog(this.dataset.dialog_open)})}),document.querySelectorAll("[data-dialog_close]").forEach(e=>{e.addEventListener("click",function(){closeDialog(this.dataset.dialog_close)})}),document.querySelectorAll('[role="dialog"]').forEach(e=>{e.addEventListener("click",e=>{"dialog"===e.target.getAttribute("role")&&closeDialog(e.target.id)},!1)})}function checkForOpenDialogs(){const e=document.querySelectorAll('[role="dialog"]');for(const t of e)if("block"===t.style.display)return!0;return!1}function toggleIPSettings(e){document.getElementById("section-ipsettings").style.display=e}function setStaticIPFieldsRequired(e){document.getElementById("text-ip").required=e,document.getElementById("text-subnet").required=e,document.getElementById("text-gateway").required=e}function closeDialog(e){const t=document.getElementById(e);t.style.display="none",t.setAttribute("aria-hidden",!0)}function openDialog(e){const t=document.getElementById(e);checkForOpenDialogs()||(t.style.display="block",t.setAttribute("aria-hidden",!1))}function generateWifiSVG(e,t){const n=7!==t,i=document.createElementNS("http://www.w3.org/2000/svg","svg");i.setAttribute("width","24"),i.setAttribute("height","24"),i.setAttribute("viewBox","0 0 24 24");const o=document.createElementNS("http://www.w3.org/2000/svg","path");switch(e){case 4:n?o.setAttribute("d","M12,3C7.79,3 3.7,4.42 0.38,7C4.42,12.06 7.89,16.37 12,21.5C13.23,19.97 14.29,18.66 15.5,17.14V14.5A5,5 0 0,1 20.5,9.5C20.85,9.5 21.2,9.54 21.54,9.62C22.2,8.8 23.03,7.76 23.65,7C20.32,4.41 16.22,3 12,3M20.5,12C19.1,12 18,13.1 18,14.5V16C17.5,16 17,16.5 17,17V21C17,21.5 17.5,22 18,22H23C23.5,22 24,21.5 24,21V17C24,16.5 23.5,16 23,16V14.5C23,13.1 21.9,12 20.5,12M20.5,13C21.3,13 22,13.7 22,14.5V16H19V14.5C19,13.7 19.7,13 20.5,13Z"):o.setAttribute("d","M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3Z");break;case 3:n?o.setAttribute("d","M12,3C7.79,3 3.7,4.42 0.38,7C4.42,12.06 7.89,16.37 12,21.5C13.23,19.97 14.29,18.66 15.5,17.14V14.5C15.5,12.44 16.77,10.59 18.69,9.84C17.19,8.96 14.84,8 12,8C9,8 6.68,9 5.2,9.84L3.27,7.44C5.91,5.85 8.92,5 12,5C15.07,5 18.08,5.86 20.71,7.45L18.84,9.79C19.37,9.6 19.93,9.5 20.5,9.5C20.85,9.5 21.2,9.54 21.54,9.62C22.2,8.8 23.03,7.76 23.65,7C20.32,4.41 16.22,3 12,3M20.5,12C19.1,12 18,13.1 18,14.5V16C17.5,16 17,16.5 17,17V21C17,21.5 17.5,22 18,22H23C23.5,22 24,21.5 24,21V17C24,16.5 23.5,16 23,16V14.5C23,13.1 21.9,12 20.5,12M20.5,13C21.3,13 22,13.7 22,14.5V16H19V14.5C19,13.7 19.7,13 20.5,13Z"):o.setAttribute("d","M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3M12,5C15.07,5 18.09,5.86 20.71,7.45L18.77,9.88C17.26,9 14.88,8 12,8C9,8 6.68,9 5.21,9.84L3.27,7.44C5.91,5.85 8.93,5 12,5Z");break;case 2:n?o.setAttribute("d","M12,3C7.79,3 3.7,4.42 0.38,7C4.42,12.06 7.89,16.37 12,21.5C13.23,19.97 14.29,18.66 15.5,17.14V14.5C15.5,13.24 16,12 16.84,11.1C15.62,10.53 14,10 12,10C9.62,10 7.74,10.75 6.5,11.43L3.27,7.44C5.91,5.85 8.92,5 12,5C15.07,5 18.08,5.86 20.71,7.45L18.83,9.79C19.37,9.6 19.93,9.5 20.5,9.5C20.85,9.5 21.2,9.54 21.54,9.62C22.2,8.8 23.03,7.76 23.65,7C20.32,4.41 16.22,3 12,3M20.5,12C19.1,12 18,13.1 18,14.5V16C17.5,16 17,16.5 17,17V21C17,21.5 17.5,22 18,22H23C23.5,22 24,21.5 24,21V17C24,16.5 23.5,16 23,16V14.5C23,13.1 21.9,12 20.5,12M20.5,13C21.3,13 22,13.7 22,14.5V16H19V14.5C19,13.7 19.7,13 20.5,13Z"):o.setAttribute("d","M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3M12,5C15.07,5 18.09,5.86 20.71,7.45L17.5,11.43C16.26,10.74 14.37,10 12,10C9.62,10 7.74,10.75 6.5,11.43L3.27,7.44C5.91,5.85 8.93,5 12,5Z");break;default:n?o.setAttribute("d","M12,3C16.22,3 20.32,4.41 23.65,7L21.54,9.62L20.5,9.5C19.93,9.5 19.37,9.6 18.83,9.79L20.71,7.45C18.08,5.86 15.07,5 12,5C8.92,5 5.91,5.85 3.27,7.44L8.39,13.8C9.5,13.28 10.75,13 12,13C13.23,13 14.44,13.28 15.55,13.79L15.5,14.5V17.14L12,21.5L0.38,7C3.7,4.42 7.79,3 12,3M23,16C23.5,16 24,16.5 24,17V21C24,21.5 23.5,22 23,22H18C17.5,22 17,21.5 17,21V17C17,16.5 17.5,16 18,16V14.5C18,13.1 19.1,12 20.5,12C21.9,12 23,13.1 23,14.5V16M22,16V14.5C22,13.7 21.3,13 20.5,13C19.7,13 19,13.7 19,14.5V16H22Z"):o.setAttribute("d","M12,3C7.79,3 3.7,4.41 0.38,7C4.41,12.06 7.89,16.37 12,21.5C16.08,16.42 20.24,11.24 23.65,7C20.32,4.41 16.22,3 12,3M12,5C15.07,5 18.09,5.86 20.71,7.45L15.61,13.81C14.5,13.28 13.25,13 12,13C10.75,13 9.5,13.28 8.39,13.8L3.27,7.44C5.91,5.85 8.93,5 12,5Z")}return i.appendChild(o),i}function convertWifiStrength(e){return e>=-50?4:e>=-60?3:e>=-67?2:1}function encryptionType(e){switch(e){case 5:return"WEP";case 2:return"WPA PSK TKIP";case 4:return"WPA2 PSK CCMP";case 8:return"WPA/WPA2 PSK";default:return"Open"}}function getSSIDs(){document.getElementById("loading-wifiscan").style.display="block",document.getElementById("no-networks-found").style.display="none",document.getElementById("ssid-list").outerHTML=document.getElementById("ssid-list").outerHTML,document.getElementById("ssid-list").innerHTML="",fetch("/scannetworks").then(e=>e.json()).then(e=>{e&&e.length?(e.forEach(e=>{(isNaN(e.signal)||e.signal>0)&&(e.signal=-99)}),e.sort((e,t)=>{const n=-1/parseFloat(e.signal);return-1/parseFloat(t.signal)-n}),e.forEach(e=>{const t=document.createElement("button");t.classList.add("ssid-button"),t.dataset.ssid=e.ssid;const n=document.createElement("span"),i=generateWifiSVG(convertWifiStrength(e.signal),e.encryption);n.title=`${e.signal}dBm | ${encryptionType(e.encryption)}`,n.appendChild(i);const o=document.createElement("span");o.innerText=e.ssid,t.appendChild(n),t.appendChild(o),document.getElementById("ssid-list").appendChild(t),t.addEventListener("click",function(){fillSSID(this)})})):document.getElementById("no-networks-found").style.display="block"}).then(()=>{document.getElementById("loading-wifiscan").style.display="none"}).catch(console.error)}function getInfo(){fetch("/getinfo").then(e=>e.json()).then(e=>{for(const[t,n]of Object.entries(e)){const e=document.querySelector(`[data-info="${t}"]`);e&&(e.innerText=n)}}).catch(console.error)}function fillSSID(e){document.getElementById("text-ssid").value=e.dataset.ssid,closeDialog("dialog-wifiscan")}function onlyNumberAndADot(e){e.value=e.value.replace(/[^0-9.]/g,"")}function initListeners(){document.getElementById("btn-showHidePassword").addEventListener("click",function(){showHidePassword(this)}),document.getElementById("radio-dhcp").addEventListener("click",()=>{toggleIPSettings("none"),setStaticIPFieldsRequired(!1)}),document.getElementById("radio-static").addEventListener("click",()=>{toggleIPSettings("block"),setStaticIPFieldsRequired(!0)}),document.getElementById("button-scanwifi").addEventListener("click",()=>{openDialog("dialog-wifiscan"),getSSIDs()}),document.getElementById("text-ip").addEventListener("input",function(){onlyNumberAndADot(this)}),document.getElementById("text-subnet").addEventListener("input",function(){onlyNumberAndADot(this)}),document.getElementById("text-gateway").addEventListener("input",function(){onlyNumberAndADot(this)}),document.getElementById("text-dns1").addEventListener("input",function(){onlyNumberAndADot(this)}),document.getElementById("text-dns2").addEventListener("input",function(){onlyNumberAndADot(this)})}document.addEventListener("DOMContentLoaded",()=>{initListeners(),initDialogs(),getInfo()});</script></body></html>